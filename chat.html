<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Suivi des Tâches & Brain Gigs</title>
<style>
  body { font-family: Arial, sans-serif; background: #f4f4f9; padding: 20px; }
  h1, h2 { color: #333; }
  .container { display: flex; flex-wrap: wrap; gap: 20px; }
  .list { background: #fff; padding: 15px; border-radius: 10px; flex: 1; min-width: 300px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); overflow-y: auto; }
  ul { list-style: none; padding: 0; margin:0; }
  li { padding: 8px; margin-bottom: 5px; background: #e7e7ff; border-radius: 5px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
  li.done { background: #b5f7b0; text-decoration: line-through; }
  .points { font-weight: bold; color: #555; margin-left: 10px; }
  #totalPoints,#reservePoints { font-size: 1.2em; margin-top: 10px; }
  
    #spendTotalBtn { margin: 10px 0; padding: 8px 15px; font-size: 1em; border:none; border-radius:5px; background:#ddb23a; color:#fff; cursor:pointer; }
    #spendTotalBtn:hover { background:#997b27; }

    #addReserveBtn { margin: 10px 0; padding: 8px 15px; font-size: 1em; border:none; border-radius:5px; background:#478a41; color:#fff; cursor:pointer; }
    #addReserveBtn:hover { background:#38743b; }

    #removeReserveBtn { margin: 10px 0; padding: 8px 15px; font-size: 1em; border:none; border-radius:5px; background:#f84c4c; color:#fff; cursor:pointer; }
    #removeReserveBtn:hover { background:#df2828; }

    #resetBtn { margin: 10px 0; padding: 8px 15px; font-size: 1em; border:none; border-radius:5px; background:#ff7b7b; color:#fff; cursor:pointer; }
    #resetBtn:hover { background:#ff5252; }
</style>
</head>
<body>

<h1>Suivi des Tâches & Brain Gigs</h1>
<p>Clique sur une tâche pour la marquer comme terminée et gagner des points !</p>

<div class="container">
  <!-- Tâches -->
  <div class="list">
    <h2>Tâches</h2>
    <ul id="chores">
      <!-- Petites ⭐1 -->
      <li data-points="1" id="t1">Faire son lit <span class="points">1⭐</span></li>
      <li data-points="1" id="t2">Vider le lave-vaisselle <span class="points">1⭐</span></li>
      <li data-points="1" id="t3">Mettre la table <span class="points">1⭐</span></li>
      <li data-points="1" id="t4">Débarrasser la table après le repas <span class="points">1⭐</span></li>
      <li data-points="1" id="t5">Sortir les poubelles/recyclage <span class="points">1⭐</span></li>
      <li data-points="1" id="t6">Arroser les plantes d’intérieur <span class="points">1⭐</span></li>
      <li data-points="1" id="t7">Faire les paires de chaussettes <span class="points">1⭐</span></li>
      <li data-points="1" id="t8">Balayer une pièce <span class="points">1⭐</span></li>

      <!-- Moyennes ⭐2 -->
      <li data-points="2" id="t9">Plier le linge <span class="points">2⭐</span></li>
      <li data-points="2" id="t10">Passer l’aspirateur dans une pièce <span class="points">2⭐</span></li>
      <li data-points="2" id="t11">Nettoyer lavabo/miroir <span class="points">2⭐</span></li>
      <li data-points="2" id="t12">Dépoussiérer les meubles <span class="points">2⭐</span></li>
      <li data-points="2" id="t13">Ranger les jouets/étagères <span class="points">2⭐</span></li>
      <li data-points="2" id="t14">Nettoyer 1–2 fenêtres <span class="points">2⭐</span></li>
      <li data-points="2" id="t15">Aider à préparer le repas <span class="points">2⭐</span></li>
      <li data-points="2" id="t16">Laver la voiture (extérieur) <span class="points">2⭐</span></li>
      <li data-points="2" id="t17">Trier le recyclage <span class="points">2⭐</span></li>
      <li data-points="2" id="t18">Changer les draps <span class="points">2⭐</span></li>

      <!-- Grandes ⭐3–4 -->
      <li data-points="3" id="t19">Passer la serpillière <span class="points">3⭐</span></li>
      <li data-points="3" id="t20">Faire une lessive complète <span class="points">3⭐</span></li>
      <li data-points="3" id="t21">Ratisser les feuilles / déneiger <span class="points">3⭐</span></li>
      <li data-points="3" id="t22">Nettoyer les étagères du frigo <span class="points">3⭐</span></li>
      <li data-points="3" id="t23">Ranger le garde-manger/placard <span class="points">3⭐</span></li>
      <li data-points="3" id="t24">Nettoyer espace animaux <span class="points">3⭐</span></li>
      <li data-points="3" id="t25">Nettoyer toute la salle de bain <span class="points">3⭐</span></li>
      <li data-points="3" id="t26">Aider aux courses <span class="points">3⭐</span></li>
      <li data-points="3" id="t27">Ranger et aspirer le salon <span class="points">3⭐</span></li>
      <li data-points="3" id="t28">Aider au jardin / travaux extérieurs <span class="points">3⭐</span></li>
      <li data-points="3" id="t29">Préparer un petit déjeuner ou goûter pour la famille <span class="points">3⭐</span></li>
      <li data-points="3" id="t30">Organiser la bibliothèque / tiroirs pour la famille <span class="points">3⭐</span></li>
      <li data-points="4" id="t31">Créer un tableau familial pour suivre corvées et activités <span class="points">4⭐</span></li>
      <li data-points="3" id="t32">Préparer un repas ou encas pour un voisin ou ami <span class="points">3⭐</span></li>
      <li data-points="3" id="t33">Aider à quelqu'un à ranger son espace pour mieux étudier/travailler <span class="points">3⭐</span></li>
      <li data-points="3" id="t34">Nettoyer et organiser un espace commun pour plus de confort <span class="points">3⭐</span></li>
      <li data-points="3" id="t35">Laver les vitres ou fenêtres pour rendre la maison plus agréable <span class="points">3⭐</span></li>
      <li data-points="4" id="t36">Créer un système de rangement pour les jouets ou matériel scolaire <span class="points">4⭐</span></li>

    </ul>
  </div>

  <!-- Brain Gigs -->
  <div class="list">
    <h2>Brain Gigs</h2>
    <ul id="brainGigs">
      <!-- Rapides ⭐2 -->
      <li data-points="2" id="g1">Partager 3 faits intéressants <span class="points">2⭐</span></li>
      <li data-points="2" id="g2">Poser 5 questions réfléchies <span class="points">2⭐</span></li>
      <li data-points="2" id="g3">Apprendre un truc de maths nouveau<span class="points">2⭐</span></li>
      <li data-points="2" id="g4">Écouter podcast ou livre audio et partager <span class="points">2⭐</span></li>
      <li data-points="2" id="g5">Apprendre un nouveau mot et l’utiliser <span class="points">2⭐</span></li>
      <li data-points="2" id="g6">Jouer à un jeu de mémoire et expliquer <span class="points">2⭐</span></li>
      <li data-points="2" id="g7">Écrire 5 points de gratitude <span class="points">2⭐</span></li>

      <!-- Moyens ⭐3 -->
      <li data-points="3" id="g8">Interviewer un grand-parent/membre de la famille <span class="points">3⭐</span></li>
      <li data-points="3" id="g9">Lire un chapitre et résumer <span class="points">3⭐</span></li>
      <li data-points="3" id="g10">Chercher sur un leader/scientifique/inventeur <span class="points">3⭐</span></li>
      <li data-points="3" id="g11">Écrire et jouer une histoire/poème/chanson <span class="points">3⭐</span></li>
      <li data-points="3" id="g12">Débattre d’un sujet amusant <span class="points">3⭐</span></li>
      <li data-points="3" id="g13">Dessiner ou illustrer une idée scientifique <span class="points">3⭐</span></li>
      <li data-points="3" id="g14">Observer un parent et partager <span class="points">3⭐</span></li>
      <li data-points="3" id="g15">Apprendre une nouvelle compétence en ligne <span class="points">3⭐</span></li>
      <li data-points="3" id="g16">Expliquer le fonctionnement d’un objet domestique <span class="points">3⭐</span></li>
      <li data-points="3" id="g17">Créer un quiz de 5 questions <span class="points">3⭐</span></li>

      <!-- Grandes ⭐4 -->
      <li data-points="4" id="g18">Inviter un invité et préparer 3 questions <span class="points">4⭐</span></li>
      <li data-points="4" id="g19">Faire une mini-présentation <span class="points">4⭐</span></li>
      <li data-points="4" id="g20">Créer un TED Talk familial <span class="points">4⭐</span></li>
      <li data-points="4" id="g21">Écrire et jouer une mini-pièce/sketch <span class="points">4⭐</span></li>
      <li data-points="4" id="g22">Chercher un problème réel et proposer une solution <span class="points">4⭐</span></li>
      <li data-points="4" id="g23">Apprendre et enseigner une recette d’une autre culture <span class="points">4⭐</span></li>
      <li data-points="4" id="g24">Visiter musée/parc et écrire un résumé <span class="points">4⭐</span></li>
      <li data-points="4" id="g25">Construire modèle / bricolage / expérience <span class="points">4⭐</span></li>
      <li data-points="4" id="g26">Créer mini-business et présenter <span class="points">4⭐</span></li>
      <li data-points="4" id="g27">Organiser soirée quiz familiale <span class="points">4⭐</span></li>
      <li data-points="4" id="g28">Organiser une mini-activité éducative ou ludique pour un groupe d’amis ou la famille <span class="points">4⭐</span></li>
      <li data-points="4" id="g29">Dessiner un poster ou infographie éducative pour la famille ou classe <span class="points">4⭐</span></li>
      <li data-points="4" id="g30">Filmer une courte vidéo tutorielle sur un hobby ou compétence <span class="points">4⭐</span></li>
      <li data-points="4" id="g31">Inventer un petit jeu ou quiz pour divertir la famille ou amis <span class="points">4⭐</span></li>
      <li data-points="4" id="g32">Construire un petit objet ou bricolage utile pour la maison ou l’école <span class="points">4⭐</span></li>
      <li data-points="4" id="g33">Écrire une courte histoire ou BD pour  un ami <span class="points">4⭐</span></li>
      <li data-points="4" id="g34">Aider un voisin ou membre de la famille avec un projet ou tâche <span class="points">4⭐</span></li>
      <li data-points="4" id="g35">Proposer une solution à un problème pratique à la maison et tester <span class="points">4⭐</span></li>
      <li data-points="4" id="g36">Créer un mini-produit / prototype à partir de matériaux recyclés <span class="points">4⭐</span></li>

    </ul>
  </div>

  <!-- Récompenses -->
  <div class="list">
    <h2>Récompenses</h2>
    <ul>
      <li>15 min de temps d’écran - 2⭐</li>
      <li>30 min de temps d’écran - 4⭐</li>
      <li>Choisir le dessert - 4⭐</li>
      <li>Choisir le dîner familial - 5⭐</li>
      <li>Choisir film / jeu familial - 6⭐</li>
      <li>Se coucher 30 min plus tard - 6⭐</li>
      <li>Petit jouet / livre - 10⭐</li>
      <li>Inviter un ami à la maison - 12⭐</li>
      <li>Choisir sortie familiale - 15⭐</li>
      <li>Grande activité (zoo, musée, trampoline) - 20⭐</li>
    </ul>
  </div>
</div>

<div style="margin-top:20px;">
  <!-- Dépenser du total -->
  <p>
  <p>Total de points : <span id="totalPoints">0</span></p>
    
    Dépenser du total : 
    <input type="number" id="spendTotal" value="0" min="0" style="width:50px; text-align:center;">
    <button id="spendTotalBtn">Dépenser</button>
  </p>

  <!-- Ajouter dans la réserve -->
  <p>
    Ajouter à la réserve : 
    <input type="number" id="addReserve" value="0" min="0" style="width:50px; text-align:center;">
    <button id="addReserveBtn">Ajouter</button>
  </p>

  <!-- Retirer de la réserve -->
  <p>
    Retirer de la réserve : 
    <input type="number" id="removeReserve" value="0" min="0" style="width:50px; text-align:center;">
    <button id="removeReserveBtn">Restituer</button>
  </p>

  <!-- Affichage des totaux -->
  <p>Points en réserve : <span id="reservePoints" style="width:50px; text-align:center;"></span></p>
</div>
<button id="resetBtn">Réinitialiser toutes les tâches</button>


<script>

let totalPoints = 0;

// Charger l'état au démarrage
function loadState() {
  const doneItems = JSON.parse(localStorage.getItem('doneItems')) || [];
  totalPoints = parseInt(localStorage.getItem('totalPoints')) || 0;
  document.getElementById('totalPoints').textContent = totalPoints;

  // Charger points en réserve (span -> use textContent)
  const reserve = parseInt(localStorage.getItem('reservePoints')) || 0;
  document.getElementById('reservePoints').textContent = reserve;

  doneItems.forEach(id => {
    const li = document.getElementById(id);
    if (li) li.classList.add('done');
  });
}

// Sauvegarde de l'état
function saveState() {
  const doneItems = [];
  document.querySelectorAll('#chores li, #brainGigs li').forEach(li => {
    if (li.classList.contains('done')) doneItems.push(li.id);
  });
  localStorage.setItem('doneItems', JSON.stringify(doneItems));
  localStorage.setItem('totalPoints', totalPoints);

  // Sauvegarde des points en réserve (read from span.textContent)
  const reserve = parseInt(document.getElementById('reservePoints').textContent) || 0;
  localStorage.setItem('reservePoints', reserve);
}

// Gestion clic sur tâches / Brain Gigs
function toggleDone(event) {
  const li = event.target.tagName === 'LI' ? event.target : event.target.closest('li');
  if (!li || !li.dataset.points) return;

  if (!li.classList.contains('done')) {
    li.classList.add('done');
    totalPoints += parseInt(li.dataset.points);
  } else {
    li.classList.remove('done');
    totalPoints -= parseInt(li.dataset.points);
  }

  document.getElementById('totalPoints').textContent = totalPoints;
  saveState();
}

// Bouton reset (ne touche pas à la réserve)
document.getElementById('resetBtn').addEventListener('click', () => {
  totalPoints = 0;
  document.getElementById('totalPoints').textContent = totalPoints;
  document.querySelectorAll('#chores li, #brainGigs li').forEach(li => li.classList.remove('done'));
  saveState();
});

// Dépenser du total
document.getElementById('spendTotalBtn').addEventListener('click', () => {
  const spend = parseInt(document.getElementById('spendTotal').value) || 0;
  if (spend > totalPoints) { alert("Pas assez de points totaux !"); return; }
  totalPoints -= spend;
  document.getElementById('totalPoints').textContent = totalPoints;
  saveState();
  document.getElementById('spendTotal').value = 0;
});

// Ajouter dans la réserve
document.getElementById('addReserveBtn').addEventListener('click', () => {
  const add = parseInt(document.getElementById('addReserve').value) || 0;
  if (add > totalPoints) { alert("Pas assez de points totaux !"); return; }
  totalPoints -= add;
  const reserveSpan = document.getElementById('reservePoints');
  const currentReserve = parseInt(reserveSpan.textContent) || 0;
  reserveSpan.textContent = currentReserve + add;
  document.getElementById('totalPoints').textContent = totalPoints;
  saveState();
  document.getElementById('addReserve').value = 0;
});

// Retirer de la réserve
document.getElementById('removeReserveBtn').addEventListener('click', () => {
  const remove = parseInt(document.getElementById('removeReserve').value) || 0;
  const reserveSpan = document.getElementById('reservePoints');
  const currentReserve = parseInt(reserveSpan.textContent) || 0;
  if (remove > currentReserve) { alert("Pas assez de points en réserve !"); return; }
  reserveSpan.textContent = currentReserve - remove;
  totalPoints += remove;
  document.getElementById('totalPoints').textContent = totalPoints;
  saveState();
  document.getElementById('removeReserve').value = 0;
});

// Ajouter événements clic sur toutes les tâches et Brain Gigs
document.querySelectorAll('#chores li, #brainGigs li').forEach(li => {
  li.addEventListener('click', toggleDone);
});

// Charger état au démarrage
loadState();

</script>

</body>
</html>
